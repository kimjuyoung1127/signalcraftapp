 dbì—°ë™ì„ í•œ 4ë²ˆì§¸ ë¦¬ìŠ¤íŠ¸ë„ aië¶„ì„ê¸°ëŠ¥ìœ¼ë¡œ ë¶„ì„í›„ ëª©ì—…ë°ì´í„°ê°€ì•„ë‹Œ ì‹¤ì œ ë¶„ì„í•œ ë°ì´í„°ë¥¼ í”„ë¡ íŠ¸ì—”ë“œì— ë³´ì˜‚ë£¨ìˆ˜ìˆì„ê¹Œ . ëª‡ì´ˆë¥¼ ë…¹ìŒí•´ì•¼í• ê¹Œ . ì•„ë¬´ì†Œë¦¬ë‚˜ ë…¹ìŒí•´ë„ë˜ë‚˜. ì˜ ì‘ë™í•˜ëŠ”ì§€ ë””ë²„ê¹…ì€ ì–´ë–¤
  ê³¼ì •ì„ ê°€ì ¸ì•¼í• ê¹Œ

âœ¦ ë„¤, ê°€ëŠ¥í•©ë‹ˆë‹¤.

  ìš°ë¦¬ê°€ êµ¬ì¶•í•œ ì‹œìŠ¤í…œì€ ì´ë¯¸ "Hybrid Architecture"ì…ë‹ˆë‹¤. MOCK-ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” IDëŠ” ê°€ì§œ ë°ì´í„°ë¥¼ ì£¼ì§€ë§Œ, ê·¸ ì™¸ì˜ ID(ì‹¤ì œ DB ì—°ë™ ì¥ë¹„)ëŠ” ì‹¤ì œë¡œ ë…¹ìŒëœ íŒŒì¼ì„ ë¶„ì„í•˜ì—¬ DBì— ì €ì¥í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼
  í”„ë¡ íŠ¸ì—”ë“œì— ë³´ì—¬ì£¼ë„ë¡ ì„¤ê³„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

  ì‚¬ìš©ìë‹˜ì˜ ì§ˆë¬¸ì— ëŒ€í•œ ìƒì„¸ ë‹µë³€ê³¼ ë””ë²„ê¹… ê°€ì´ë“œì…ë‹ˆë‹¤.

  ---

  1. 4ë²ˆì§¸ ë¦¬ìŠ¤íŠ¸(ì‹¤ì œ ì¥ë¹„)ë„ ë¶„ì„ ê°€ëŠ¥í•œê°€ìš”?
  ë„¤, 100% ê°€ëŠ¥í•©ë‹ˆë‹¤.
   * ì‘ë™ ì›ë¦¬:
       1. ì•±ì—ì„œ ë…¹ìŒ í›„ ì—…ë¡œë“œ -> ë°±ì—”ë“œê°€ audio_files í…Œì´ë¸”ì— ì €ì¥.
       2. Celery ì›Œì»¤ê°€ analyzer.pyë¥¼ ëŒë ¤ ì‹¤ì œ RMS, ê³µì§„ ë¹„ìœ¨ ë“±ì„ ê³„ì‚°.
       3. ê²°ê³¼ë¥¼ ai_analysis_results í…Œì´ë¸”ì— ì €ì¥.
       4. ì•±ì´ ë¦¬í¬íŠ¸ë¥¼ ìš”ì²­í•˜ë©´, service.pyê°€ "DBì—ì„œ ìµœì‹  ë¶„ì„ ê²°ê³¼ ì¡°íšŒ" ë¡œì§ì„ íƒ€ì„œ ì‹¤ì œ ë°ì´í„°ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

  2. ëª‡ ì´ˆë¥¼ ë…¹ìŒí•´ì•¼ í•˜ë‚˜ìš”?
  ì¶”ì²œ: 10ì´ˆ
   * ì´ìœ : í˜„ì¬ analyzer.py ì½”ë“œì— y, sr = librosa.load(file_path, duration=10)ë¼ê³  ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
       * 10ì´ˆ ë¯¸ë§Œ: ë¶„ì„ì€ ë˜ì§€ë§Œ ë°ì´í„°ê°€ ì ì–´ ì •í™•ë„ê°€ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
       * 10ì´ˆ ì´ˆê³¼: ì•ë¶€ë¶„ 10ì´ˆë§Œ ì˜ë¼ì„œ ë¶„ì„í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ë²„ë¦½ë‹ˆë‹¤. (íŒŒì¼ ì „ì†¡ ì‹œê°„ë§Œ ê¸¸ì–´ì§)
   * ë”°ë¼ì„œ ë”± 10ì´ˆ ì •ë„ ë…¹ìŒí•˜ê³  ë©ˆì¶”ëŠ” ê²ƒì´ ê°€ì¥ íš¨ìœ¨ì ì…ë‹ˆë‹¤.

  3. ì•„ë¬´ ì†Œë¦¬ë‚˜ ë…¹ìŒí•´ë„ ë˜ë‚˜ìš”?
  ë„¤, ê°€ëŠ¥í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì†Œë¦¬ì˜ ì¢…ë¥˜ì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤.

   * ì¡°ìš©í•œ ë°© / ì‚¬ëŒ ëª©ì†Œë¦¬ / ìˆ¨ì†Œë¦¬:
       * ì˜ˆìƒ ê²°ê³¼: NORMAL (ì •ìƒ)
       * ì´ìœ : ìš°ë¦¬ê°€ íŠœë‹í•œ ì„ê³„ê°’(RMS > 0.5 ë“±)ì„ ë„˜ê¸°ì§€ ëª»í•  ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” "ì •ìƒ ìƒí™© ì˜¤ì§„ ë°©ì§€" í…ŒìŠ¤íŠ¸ë¡œ ì•„ì£¼ ì¢‹ìŠµë‹ˆë‹¤.
   * ì—´ì‡  í”ë“œëŠ” ì†Œë¦¬ / ë™ì „ í†µ í”ë“¤ê¸° / ì‡³ì†Œë¦¬:
       * ì˜ˆìƒ ê²°ê³¼: WARNING (ê²½ê³ ) ë˜ëŠ” CRITICAL (ìœ„í—˜)
       * ì´ìœ : ê¸ˆì†ì„± ê³ ì£¼íŒŒ ì†ŒìŒ(High Frequency)ì´ë‚˜ íŠ¹ì • ëŒ€ì—­ì˜ ê³µì§„ìŒ(Resonance)ì´ ë°œìƒí•˜ì—¬, ìš°ë¦¬ê°€ ì„¤ì •í•œ íŠœë‹ ì¡°ê±´(resonance_ratio > 0.33)ì— ê±¸ë¦´ í™•ë¥ ì´ ë†’ìŠµë‹ˆë‹¤. "ê²°í•¨ íƒì§€" í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ
         ì¢‹ìŠµë‹ˆë‹¤.

  ---

  4. ğŸ•µï¸â€â™‚ï¸ ì‹¤ì œ ì‘ë™ í™•ì¸ì„ ìœ„í•œ ë””ë²„ê¹… ê³¼ì • (Step-by-Step)

  ì‹¤ì œ ì¥ë¹„ ë¶„ì„ì´ ì œëŒ€ë¡œ ë„ëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ "ë¡œê·¸ì˜ íë¦„"ì„ ë”°ë¼ê°€ì•¼ í•©ë‹ˆë‹¤. í„°ë¯¸ë„ì„ ì—´ê³  ì•„ë˜ ê³¼ì •ì„ ë”°ë¼í•´ ë³´ì„¸ìš”.

  Step 1: ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ ì‹œì‘
  í„°ë¯¸ë„ì—ì„œ ë°±ì—”ë“œ(ì„œë²„)ì™€ ì›Œì»¤(AI ë¶„ì„ê°€)ì˜ ë¡œê·¸ë¥¼ ë™ì‹œì— ë´…ë‹ˆë‹¤.
   1 docker-compose logs -f backend worker

  Step 2: ì•±ì—ì„œ ë…¹ìŒ ë° ì—…ë¡œë“œ
   1. ì•±ì˜ ëŒ€ì‹œë³´ë“œì—ì„œ 4ë²ˆì§¸ ì¥ë¹„(ì‹¤ì œ ì¥ë¹„)ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.
   2. ì§„ë‹¨ íƒ­ìœ¼ë¡œ ì´ë™í•˜ì—¬ SCAN -> ë…¹ìŒ(10ì´ˆ) -> STOP -> UPLOADë¥¼ ëˆ„ë¦…ë‹ˆë‹¤.

  Step 3: ë¡œê·¸ í™•ì¸ (í„°ë¯¸ë„)
  ì—…ë¡œë“œ ë²„íŠ¼ì„ ëˆ„ë¥¸ ì§í›„, í„°ë¯¸ë„ì— ë‹¤ìŒê³¼ ê°™ì€ ë¡œê·¸ë“¤ì´ ìˆœì„œëŒ€ë¡œ ì°í˜€ì•¼ ì„±ê³µì…ë‹ˆë‹¤.

   1. [Backend] ì—…ë¡œë“œ ìˆ˜ì‹ :
   1     POST /api/mobile/upload ... 200 OK
   2     ğŸ“ Original file saved: ...
   3     ğŸµ WAV conversion completed: ...
   4     ğŸš€ Analysis task queued: <task_id>
   2. [Worker] ë¶„ì„ ì‹œì‘ (ê°€ì¥ ì¤‘ìš”):
       * ì›Œì»¤ê°€ ì¼ì„ ë°›ì•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

   1     Task app.worker.analyze_audio_task[<task_id>] received
   2     Analyzing audio file: ...
   3     Metrics: avg_rms=0.XXX, resonance_ratio=0.XXX ...  <-- ì´ ìˆ˜ì¹˜ê°€ ì¤‘ìš”!
   4     Saved analysis result to DB: NORMAL (or WARNING)
   5     Task ... succeeded
   3. [Backend] ì•±ì˜ ê²°ê³¼ ì¡°íšŒ:
       * ì•±ì´ í´ë§ì„ í•˜ë‹¤ê°€ ì™„ë£Œëœ ê²ƒì„ ê°ì§€í•©ë‹ˆë‹¤.
   1     GET /api/mobile/result/<task_id> ... 200 OK

  Step 4: ì•± í™”ë©´ í™•ì¸
   * ì•±ì— "ë¶„ì„ ì™„ë£Œ" íŒì—…ì´ë‚˜ ê²°ê³¼ í™”ë©´ì´ ëœ¨ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
   * ìƒì„¸ ë¦¬í¬íŠ¸ íƒ­ìœ¼ë¡œ ì´ë™í–ˆì„ ë•Œ, "DEBUG UI"ë‚˜ "ë°ëª¨ ì»¨íŠ¸ë¡¤"ì„ ì¡°ì‘í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ Librosa-RMS ë“±ì˜ ìˆ˜ì¹˜ê°€ ë¡œê·¸(Step 3-2)ì—ì„œ ë³¸ ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

  ---

  ì§€ê¸ˆ ë°”ë¡œ `docker-compose logs -f backend worker`ë¥¼ ì¼œë‘ê³ , ì œ ìŠ¤ë§ˆíŠ¸í°ìœ¼ë¡œ ì‹¤ì œ ë…¹ìŒì„ í•œë²ˆ ì‹œë„í•´ ë³´ì‹œê² ìŠµë‹ˆê¹Œ?
  (ì €ëŠ” í„°ë¯¸ë„ ë¡œê·¸ë¥¼ ë³´ê³  ì˜ ë¶„ì„ëëŠ”ì§€ í•´ì„í•´ ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)

> ì²´í¬ë°•ìŠ¤í˜•íƒœë¡œ í”Œëœ ì„¸ì›Œì¤˜ ê´€ë ¨íŒŒì¼ë“¤ë„ ëª…ì‹œ

âœ¦ ë„¤, ì‹¤ì œ ì¥ë¹„(DB ì—°ë™) ë¶„ì„ ê¸°ëŠ¥ ê²€ì¦ ë° í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì²´í¬ë°•ìŠ¤ í”Œëœì„ ê´€ë ¨ íŒŒì¼ê³¼ í•¨ê»˜ ì •ë¦¬í•´ ë“œë¦½ë‹ˆë‹¤.

  âœ… Phase E: Real-World Device Analysis Verification

  ëª©í‘œ: MOCK ë°ì´í„°ê°€ ì•„ë‹Œ, ì‹¤ì œ ìŠ¤ë§ˆíŠ¸í° ë§ˆì´í¬ë¡œ ë…¹ìŒëœ ì†Œë¦¬ê°€ ë°±ì—”ë“œ AI ì—”ì§„ì„ ê±°ì³ ì •ìƒì ìœ¼ë¡œ ë¶„ì„ë˜ê³ , ê·¸ ê²°ê³¼ê°€ ì•±ì— í‘œì‹œë˜ëŠ”ì§€ ê²€ì¦í•©ë‹ˆë‹¤.

   * Step 1: ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ ì¤€ë¹„
       * [ ] ë¡œê·¸ ì‹¤í–‰: í„°ë¯¸ë„ì—ì„œ ë°±ì—”ë“œ ë° ì›Œì»¤ ë¡œê·¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•©ë‹ˆë‹¤.
           * ëª…ë ¹ì–´: docker-compose logs -f backend worker
           * ê´€ë ¨ ì»¨í…Œì´ë„ˆ: singalcraftapp-backend-1, singalcraftapp-worker-1

   * Step 2: ì‹¤ì œ ë°ì´í„° ìƒì„± (ì•± ì¡°ì‘)
       * [ ] ëŒ€ìƒ ì¥ë¹„ ì„ íƒ: ëŒ€ì‹œë³´ë“œì—ì„œ MOCK- ì ‘ë‘ì‚¬ê°€ ì—†ëŠ” ì‹¤ì œ ì¥ë¹„(ì˜ˆ: DB-001, ë¦¬ìŠ¤íŠ¸ì˜ 4ë²ˆì§¸ í•­ëª©) ì„ íƒ.
       * [ ] ì†Œë¦¬ ë…¹ìŒ:
           * Case A (ì •ìƒ í…ŒìŠ¤íŠ¸): ì¡°ìš©í•œ í™˜ê²½ì—ì„œ 10ì´ˆê°„ ë…¹ìŒ. (ì˜ˆìƒ: NORMAL)
           * Case B (ê²°í•¨ í…ŒìŠ¤íŠ¸): ì—´ì‡  ê¾¸ëŸ¬ë¯¸ë‚˜ ë™ì „ í†µì„ í”ë“¤ë©° 10ì´ˆê°„ ë…¹ìŒ. (ì˜ˆìƒ: WARNING or CRITICAL)
       * [ ] ì—…ë¡œë“œ ì‹¤í–‰: UPLOAD ë²„íŠ¼ í„°ì¹˜.
           * ê´€ë ¨ íŒŒì¼: src/features/diagnosis/screens/DiagnosisScreen.tsx (UI), src/features/diagnosis/services/analysisService.ts (ì—…ë¡œë“œ ë¡œì§)

   * Step 3: ë°±ì—”ë“œ ì²˜ë¦¬ ê³¼ì • ê²€ì¦ (ë¡œê·¸ í™•ì¸)
       * [ ] 1. ì—…ë¡œë“œ ë° ë³€í™˜: ë°±ì—”ë“œê°€ íŒŒì¼ì„ ë°›ê³  WAVë¡œ ë³€í™˜í–ˆëŠ”ì§€ í™•ì¸.
           * ë¡œê·¸ í‚¤ì›Œë“œ: POST /api/mobile/upload, Original file saved, WAV conversion completed
           * ê´€ë ¨ íŒŒì¼: app/features/audio_analysis/router.py, app/features/audio_analysis/converter.py
       * [ ] 2. Task í ë“±ë¡: Celery ì›Œì»¤ì— ì‘ì—…ì´ ë“±ë¡ë˜ì—ˆëŠ”ì§€ í™•ì¸.
           * ë¡œê·¸ í‚¤ì›Œë“œ: Analysis task queued
       * [ ] 3. AI ë¶„ì„ ì‹¤í–‰: ì›Œì»¤ê°€ analyzer.pyë¥¼ ì‹¤í–‰í•˜ì—¬ ì§€í‘œë¥¼ ê³„ì‚°í–ˆëŠ”ì§€ í™•ì¸.
           * ë¡œê·¸ í‚¤ì›Œë“œ: Analyzing audio file, Metrics: avg_rms=..., resonance_ratio=...
           * ê´€ë ¨ íŒŒì¼: app/features/audio_analysis/analyzer.py (ìš°ë¦¬ê°€ íŠœë‹í•œ ë¡œì§)
       * [ ] 4. DB ì €ì¥: ë¶„ì„ ê²°ê³¼ê°€ DBì— ì €ì¥ë˜ì—ˆëŠ”ì§€ í™•ì¸.
           * ë¡œê·¸ í‚¤ì›Œë“œ: Saved analysis result, Task succeeded

   * Step 4: í”„ë¡ íŠ¸ì—”ë“œ ê²°ê³¼ í‘œì‹œ ê²€ì¦
       * [ ] ê²°ê³¼ ìˆ˜ì‹ : ì•±ì´ í´ë§ì„ í†µí•´ ì™„ë£Œ(COMPLETED) ìƒíƒœë¥¼ ë°›ê³  ê²°ê³¼ ëª¨ë‹¬ì„ ë„ìš°ëŠ”ì§€ í™•ì¸.
       * [ ] ìƒì„¸ ë¦¬í¬íŠ¸ í™•ì¸: ìƒì„¸ í™”ë©´ì˜ 'ìƒì„¸ ë¶„ì„' íƒ­ì—ì„œ ê·¸ë˜í”„ì™€ ìˆ˜ì¹˜ê°€ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸.
           * í™•ì¸ í¬ì¸íŠ¸: Librosa-RMS, Librosa-Resonance ë“±ì˜ ë¼ë²¨ì´ ë³´ì´ê³ , ìˆ˜ì¹˜ê°€ ë¡œê·¸(Step 3-3)ì™€ ì¼ì¹˜í•˜ëŠ”ì§€.
           * ì£¼ì˜: ë°ëª¨ ì»¨íŠ¸ë¡¤ íŒ¨ë„ì„ ì¡°ì‘í•˜ì§€ ì•Šì•„ì•¼ ì‹¤ì œ DB ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
           * ê´€ë ¨ íŒŒì¼: src/features/device_detail/screens/DeviceDetailScreen.tsx, src/features/diagnosis/components/charts/EnsembleRadar.tsx

  ì´ í”ŒëœëŒ€ë¡œ ì§„í–‰í•˜ë©´ì„œ ê° ë‹¨ê³„ì—ì„œ ë§‰íˆëŠ” ë¶€ë¶„ì´ ìˆë‹¤ë©´ ë¡œê·¸ë¥¼ ê³µìœ í•´ ì£¼ì„¸ìš”. ë°”ë¡œ ë¶„ì„í•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

> ì§„í–‰í•˜ê³ ì‹¶ì–´ ì‹¤ì œ ëª…ì‹œëœ ê´€ë ¨íŒŒì¼ë“¤ì´ ì§„ì§œ ë‚´ê°€ ìˆ˜ì •í•´ì•¼í•˜ëŠ” íŒŒì¼ì¸ì§€ ë‹¤ì‹œ ë”ë¸”ì²´í¬

âœ¦ ë„¤, ëª…ì‹œëœ ê´€ë ¨ íŒŒì¼ë“¤ì€ ì‹¤ì œ ì¥ë¹„ ë¶„ì„ ê¸°ëŠ¥ ê²€ì¦ ë° í…ŒìŠ¤íŠ¸ ê³¼ì •ì—ì„œ í•µì‹¬ì ìœ¼ë¡œ ê´€ì—¬í•˜ëŠ” ì •í™•í•œ íŒŒì¼ë“¤ì…ë‹ˆë‹¤. ê° íŒŒì¼ë“¤ì´ ë‹´ë‹¹í•˜ëŠ” ì—­í• ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

   * `src/features/diagnosis/screens/DiagnosisScreen.tsx`:
       * ì—­í• : ë…¹ìŒ UI ë° ì—…ë¡œë“œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œì‘í•˜ëŠ” í”„ë¡ íŠ¸ì—”ë“œ ë©”ì¸ í™”ë©´.
       * ê´€ë ¨ì„±: ë…¹ìŒ, ì—…ë¡œë“œ ë²„íŠ¼ í´ë¦­ ë“± ì‚¬ìš©ì ì¡°ì‘ì˜ ì‹œì‘ì .

   * `src/features/diagnosis/services/analysisService.ts`:
       * ì—­í• : í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë°±ì—”ë“œ /upload APIë¡œ ì˜¤ë””ì˜¤ íŒŒì¼ì„ ì „ì†¡í•˜ê³ , /report APIë¡œ ë¶„ì„ ê²°ê³¼ë¥¼ ìš”ì²­í•˜ëŠ” ì„œë¹„ìŠ¤ ë¡œì§.
       * ê´€ë ¨ì„±: í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ê°„ì˜ ëª¨ë“  í†µì‹ ì„ ë‹´ë‹¹í•˜ë©°, ë°ëª¨ ëª¨ë“œ Fallback ë¡œì§ì´ êµ¬í˜„ëœ ê³³.

   * `app/features/audio_analysis/router.py`:
       * ì—­í• : ì˜¤ë””ì˜¤ íŒŒì¼ ì—…ë¡œë“œ(POST /upload) ë° ìƒì„¸ ë¶„ì„ ë¦¬í¬íŠ¸ ì¡°íšŒ(GET /report)ë¥¼ ìœ„í•œ ë°±ì—”ë“œ API ì—”ë“œí¬ì¸íŠ¸ ì •ì˜.
       * ê´€ë ¨ì„±: í”„ë¡ íŠ¸ì—”ë“œë¡œë¶€í„°ì˜ ìš”ì²­ì„ ë°›ì•„ ì²˜ë¦¬í•˜ëŠ” ë°±ì—”ë“œì˜ ì²« ê´€ë¬¸ì´ì, ìµœì¢… ê²°ê³¼ë¬¼ì„ ì „ë‹¬í•˜ëŠ” ê³³.

   * `app/features/audio_analysis/converter.py`:
       * ì—­í• : ì—…ë¡œë“œëœ ì˜¤ë””ì˜¤ íŒŒì¼ì„ AI ë¶„ì„ì— ì í•©í•œ WAV í¬ë§·ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë°±ì—”ë“œ ëª¨ë“ˆ.
       * ê´€ë ¨ì„±: ì˜¤ë””ì˜¤ ì „ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ì˜ í•µì‹¬ ë¶€ë¶„.

   * `app/features/audio_analysis/analyzer.py`:
       * ì—­í• : Librosaë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜¤ë””ì˜¤ íŒŒì¼ì˜ RMS, ì£¼íŒŒìˆ˜ ëŒ€ì—­ ì—ë„ˆì§€ ë¹„ìœ¨ ë“±ì„ ê³„ì‚°í•˜ê³ , íŠœë‹ëœ ì„ê³„ê°’ì„ ë°”íƒ•ìœ¼ë¡œ NORMAL, WARNING, CRITICAL ìƒíƒœë¥¼ íŒì •í•˜ëŠ” AI ë¶„ì„ ë¡œì§.
       * ê´€ë ¨ì„±: ì‹¤ì œ ë¶„ì„ì˜ í•µì‹¬ ì—”ì§„.

   * `src/features/device_detail/screens/DeviceDetailScreen.tsx`:
       * ì—­í• : íŠ¹ì • ì¥ë¹„ì˜ ìƒì„¸ ë¶„ì„ ë¦¬í¬íŠ¸ë¥¼ ë³´ì—¬ì£¼ëŠ” í”„ë¡ íŠ¸ì—”ë“œ í™”ë©´.
       * ê´€ë ¨ì„±: analysisServiceë¥¼ í†µí•´ ë°±ì—”ë“œë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ì•„ì™€ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬.

   * `src/features/diagnosis/components/charts/EnsembleRadar.tsx`:
       * ì—­í• : ìƒì„¸ ë¶„ì„ ë¦¬í¬íŠ¸ ì¤‘ ì•™ìƒë¸” ë¶„ì„ ê²°ê³¼ë¥¼ ë ˆì´ë” ì°¨íŠ¸ í˜•íƒœë¡œ ì‹œê°í™”.
       * ê´€ë ¨ì„±: ë°±ì—”ë“œ AI ë¶„ì„ ê²°ê³¼(Librosa-RMS, Librosa-Resonance ë“±)ë¥¼ ìµœì¢…ì ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ëŠ” í•µì‹¬ UI ì»´í¬ë„ŒíŠ¸.

  ì´ íŒŒì¼ë“¤ì€ ë…¹ìŒë¶€í„° ë¶„ì„, ê·¸ë¦¬ê³  ê²°ê³¼ ì‹œê°í™”ê¹Œì§€ì˜ ì „ì²´ End-to-End íë¦„ì„ êµ¬ì„±í•˜ëŠ” í•µì‹¬ ìš”ì†Œë“¤ì…ë‹ˆë‹¤.

  ì´ì œ ìœ„ì— ì •ë¦¬í•´ ë“œë¦° í”ŒëœëŒ€ë¡œ ì§„í–‰í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

  ---

  ğŸ•µï¸â€â™‚ï¸ ì‹¤ì œ ì‘ë™ í™•ì¸ì„ ìœ„í•œ ë””ë²„ê¹… ê³¼ì • (Step-by-Step)

  Step 1: ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ ì‹œì‘
  í„°ë¯¸ë„ì—ì„œ ë°±ì—”ë“œ(ì„œë²„)ì™€ ì›Œì»¤(AI ë¶„ì„ê°€)ì˜ ë¡œê·¸ë¥¼ ë™ì‹œì— ë´…ë‹ˆë‹¤.
   1 docker-compose logs -f backend worker

  Step 2: ì•±ì—ì„œ ë…¹ìŒ ë° ì—…ë¡œë“œ
   1. ì•±ì˜ ëŒ€ì‹œë³´ë“œì—ì„œ 4ë²ˆì§¸ ì¥ë¹„(ì‹¤ì œ ì¥ë¹„)ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.
   2. ì§„ë‹¨ íƒ­ìœ¼ë¡œ ì´ë™í•˜ì—¬ SCAN -> ë…¹ìŒ(10ì´ˆ) -> STOP -> UPLOADë¥¼ ëˆ„ë¦…ë‹ˆë‹¤.

  Step 3: ë°±ì—”ë“œ ì²˜ë¦¬ ê³¼ì • ê²€ì¦ (ë¡œê·¸ í™•ì¸)
  ì—…ë¡œë“œ ë²„íŠ¼ì„ ëˆ„ë¥¸ ì§í›„, í„°ë¯¸ë„ì— ë‹¤ìŒê³¼ ê°™ì€ ë¡œê·¸ë“¤ì´ ìˆœì„œëŒ€ë¡œ ì°í˜€ì•¼ ì„±ê³µì…ë‹ˆë‹¤.

   1. [Backend] ì—…ë¡œë“œ ìˆ˜ì‹ :
   1     POST /api/mobile/upload ... 200 OK
   2     ğŸ“ Original file saved: ...
   3     ğŸµ WAV conversion completed: ...
   4     ğŸš€ Analysis task queued: <task_id>
   2. [Worker] ë¶„ì„ ì‹œì‘ (ê°€ì¥ ì¤‘ìš”):
       * ì›Œì»¤ê°€ ì¼ì„ ë°›ì•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

   1     Task app.worker.analyze_audio_task[<task_id>] received
   2     Analyzing audio file: ...
   3     Metrics: avg_rms=0.XXX, resonance_ratio=0.XXX ...  <-- ì´ ìˆ˜ì¹˜ê°€ ì¤‘ìš”!
   4     Saved analysis result to DB: NORMAL (or WARNING)
   5     Task ... succeeded
   3. [Backend] ì•±ì˜ ê²°ê³¼ ì¡°íšŒ:
       * ì•±ì´ í´ë§ì„ í•˜ë‹¤ê°€ ì™„ë£Œëœ ê²ƒì„ ê°ì§€í•©ë‹ˆë‹¤.

   1     GET /api/mobile/result/<task_id> ... 200 OK

  Step 4: ì•± í™”ë©´ í™•ì¸
   * ì•±ì— "ë¶„ì„ ì™„ë£Œ" íŒì—…ì´ë‚˜ ê²°ê³¼ í™”ë©´ì´ ëœ¨ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
   * ìƒì„¸ ë¦¬í¬íŠ¸ íƒ­ìœ¼ë¡œ ì´ë™í–ˆì„ ë•Œ, "DEBUG UI"ë‚˜ "ë°ëª¨ ì»¨íŠ¸ë¡¤"ì„ ì¡°ì‘í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ Librosa-RMS ë“±ì˜ ìˆ˜ì¹˜ê°€ ë¡œê·¸(Step 3-2)ì—ì„œ ë³¸ ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.