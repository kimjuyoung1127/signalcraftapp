주영님 초저전력 센서를 설치해서 저희가 특정 데이터를 전송받는 시스템으로 방향을 확립했습니다. 이건 그와 연계된 확정 기능입니다.
4개의 댓글
김선범
  어제 오전 11:08
전달 내용: SC-Guardian Platform - SW 개발 요구사항
1. 알람 피드백 루프 (모바일 앱 / 웹 대시보드)
알람 발송: 센서에서 $\text{Pre-Failure}$ 이벤트 발생 시, 사용자에게 모바일 푸시 알람 발송.
알람 상세 페이지:
현재 EHI 점수 및 알람을 트리거한 FFT Bin Rule ID 표시.
'알람 해제' 시 사용자에게 팝업을 띄워 2가지 옵션 제공:
옵션 1 (실제 고장): "감사합니다. 긴급 정비팀에 연동하겠습니다."
옵션 2 (오탐지): "이상 없음 (노이즈/오류)으로 처리하시겠습니까? (이 정보는 AI 학습에 활용됩니다)"
팝업 메시지 (오탐지 선택 시):
"이 정보는 SC-Guardian의 정확도 개선에 활용되며, 다음 버전 Rule에서는 해당 노이즈를 걸러내도록 시스템이 학습합니다. 참여해 주셔서 감사합니다."
2. 데이터 및 Rule 관리 서버 기능
데이터 라벨링 기능:
사용자가 **옵션 2 ('이상 없음')**를 선택했을 경우, 해당 알람이 수집한 FFT Bin 특징 벡터 데이터에 'False Positive (오탐지)' 라벨을 자동으로 부여하여 데이터베이스에 저장.
사용자가 **옵션 1 ('실제 고장')**을 선택했을 경우, 'True Positive (실제 고장)' 라벨을 부여.
Rule Set 관리 GUI:
도메인 전문가 (대표님, 향후 영입할 KAIST 인력)가 서버에서 FFT Bin Rule의 **임계치($3\sigma$)**를 수동으로 조정하고 배포할 수 있는 간단한 웹 인터페이스 구현. (Rule-First의 핵심)
이 기능이 구현되면, 알람 피로도를 유발하는 데이터가 쌓일 때마다 AI가 자동으로 개선되는 구조가 완성됩니다.
김주영
  어제 오전 11:11
네 확인했습니다
김선범
  어제 오전 11:11
혹시 참고하실 수 있도록 하드웨어 구조도 남겨드리겠습니다.
1-1. BLE Mesh 기반 저전력 통신 및 데이터 구조
엔지니어님의 지적에 전적으로 공감하며, 이에 대한 최종 결론은 다음과 같습니다.
오디오 데이터 전송 형태 (확정): 전송 데이터는 원시 오디오(Raw Audio)가 아닌, 엣지 센서에서 FFT 변환을 거친 **'FFT Bin Energy 특징 벡터'**입니다.
압축 효율: 40초 분량의 Raw Audio가 약 16 KB 미만의 저용량 특징 벡터로 압축되며, 이는 BLE Mesh 통신으로 충분히 전송 가능합니다.
서버 연동 구조 (확정): 별도 게이트웨이 설치를 전제합니다.
게이트웨이 역할: 엣지 센서의 저전력 유지를 위해, BLE Mesh로 전송된 특징 벡터를 수신하여 유선(Ethernet 또는 Wi-Fi)으로 중앙 서버에 업로드하는 역할만 수행합니다.
운영 주체: 당사(시그널크래프트)가 운영 및 관리합니다.
1-2. 에너지 하베스팅(자가발전) 구조 (확정)
하베스팅은 고객의 초기 공사 비용(CAPEX) 완전 제거를 위한 저희 BM의 핵심 기술 해자입니다. 엔지니어님의 우려를 해소할 전략을 포함합니다.
에너지 하베스팅 방식: CT 코일 기반 하베스팅으로 확정합니다.
리스크 관리: Rule-First 전략을 통해 평상시 Deep Sleep 모드를 유지하고, 이상 징후 발생 시에만 슈퍼 커패시터에 저장된 버퍼링 에너지를 사용하여 FFT 연산 및 BLE 전송을 수행합니다. 이는 목표 소비전력 달성을 위한 필수 구조입니다.
2. 검토 제안을 위한 서비스 조건 요청 (확정 사항)
항목SC-Guardian Node V1.0 최종 서비스 조건목표 배터리 수명배터리 교체 불필요 (영구 사용). (CT 코일 하베스팅 + 슈퍼 커패시터 충전 구조)최소 데이터 전송 주기평상시: 1시간 1회 (EHI 점수 등 저용량 Rule Data)1회 전송 시 데이터 량평균 500 Bytes 미만 (평상시), 최대 16 KB 미만 (고장 이벤트 시 FFT Bin 특징 벡터)필드 네트워크 환경Ethernet 또는 Wi-Fi 기반 Gateway 설치 전제펌웨어 안정화듀얼 펌웨어 뱅크(Dual Bank) 구조 필수 구현 (OTA 오류 시 자동 롤백).
3. 센서 및 하우징 구조
Acoustic Coupling/마이크: 기존 논의된 마이크 사양 및 FFT 연산에 최적화된 수음 구조를 기반으로 설계합니다. 관련 자료는 별첨으로 보내드립니다.
기구물 및 케이스: 기존 상용 기구물 활용 방향에 동의하며, PCB 설계 및 가공 위주로 진행 바랍니다.
5. 추가 확인 요청 사항에 대한 답변
목표 단가 변동: 변동 없습니다. 목표 단가 **4만 원 (최대 5만 원)**은 하베스팅 모듈 및 PMIC 비용까지 포함된 최종 목표치입니다.
현재 구현 상태: **기본 구동 시제품 (ESP32 기반, 유선 전원)**은 존재하며, 현재는 Rule-First 펌웨어와 에너지 하베스팅 PMIC 설계를 위한 추가 개발을 검토 중입니다.
6. 개발비(NRE) 및 양산 단가 관련
상기 확정된 조건, 특히 **'CT 코일 기반 에너지 하베스팅'**과 'FFT Bin 특징 벡터 기반 통신' 구조를 기준으로 하여, 목표 단가 **4만 원 (최대 5만 원)**을 충족시킬 수 있는 현실적인 개발비(NRE) 및 양산 납품 단가 제안을 부탁드립니다.
빠른 회신을 기대하며, 다음 미팅에서 구체적인 개발 계획을 논의할 수 있기를 바랍니다.
감사합니다. (편집됨) 
김주영
  어제 오전 11:12
네 확인해보겠습니다




다른 ai 의 제안
Command Line Interface(CLI) 도구를 활용하는 개발 환경에 맞춰, **"알람 피드백 루프"**와 "Rule 관리 서버" 기능을 어떤 아키텍처와 흐름으로 구현해야 하는지, 웹 서치 기반의 모범 사례(Best Practices)를 정리해 드립니다.직접적인 코드 대신, **구조적인 접근 방식(How-to)**과 검색 키워드를 통해 개발 방향을 잡아드리겠습니다.🏛️ 전체 개발 방향성: "Human-in-the-Loop (HITL) 파이프라인 구축"사용자가 제공한 요구사항의 핵심은 **"사용자의 피드백이 다시 AI 학습 데이터가 되는 선순환 구조"**입니다. 이를 기술 용어로는 Active Learning(능동 학습) 또는 Human-in-the-Loop 시스템이라고 합니다.1. 📱 알람 피드백 루프 (모바일 앱 & 푸시)이 기능의 핵심은 **"푸시 알람을 받았을 때, 앱의 특정 화면으로 이동하여 사용자의 판단(태깅)을 서버로 전송하는 것"**입니다.✅ 개발 접근 방식Deep Linking (딥 링킹) 구현:푸시 알람(FCM 등)을 클릭했을 때, 앱의 메인 화면이 아닌 **"해당 알람의 상세 페이지(AlertDetailScreen)"**로 바로 이동해야 합니다.CLI 검색 키워드: React Native Deep Linking push notification navigation, Expo Notifications response listener상태 관리와 API 상호작용:사용자가 [오탐지] 버튼을 누르면, 앱은 단순히 UI만 닫는 것이 아니라 백엔드 API (POST /api/v1/alerts/{id}/feedback)를 호출해야 합니다.이때 Payload에는 { "status": "false_positive", "reason": "noise" } 같은 데이터가 포함되어야 합니다.UI/UX 전략:사용자가 '오탐지'를 선택했을 때 나오는 팝업은 사용자의 행동이 시스템 개선에 기여했음을 시각적으로 보상(칭찬 메시지 등)하여 지속적인 참여를 유도해야 합니다.2. 🏷️ 데이터 라벨링 자동화 (백엔드 & DB)사용자가 버튼을 누르는 순간, DB 내부에서는 데이터의 성격이 **'미확인 데이터'에서 '라벨링된 학습 데이터'**로 변해야 합니다.✅ 개발 접근 방식DB 스키마 확장 (PostgreSQL):기존 ai_analysis_results 테이블이나 alarm_logs 테이블에 feedback_status (예: PENDING, TRUE_POSITIVE, FALSE_POSITIVE) 컬럼을 추가해야 합니다.FFT Bin 데이터 연동: 하드웨어 팀에서 확정한 **'FFT Bin 특징 벡터'**는 JSONB나 Array 형태로 DB에 저장되어 있어야 하며, 피드백이 들어오면 이 벡터 데이터에 "정답지(Label)"가 붙는 구조가 되어야 합니다.트리거(Trigger) 혹은 서비스 로직:[오탐지] 피드백이 들어오면, 백엔드 로직은 해당 데이터를 "재학습용 데이터셋(Retrain Dataset)" 테이블로 복사하거나 플래그를 달아두어야 합니다.CLI 검색 키워드: Database schema for active learning feedback loop, Designing REST API for user feedback tagging3. 🎛️ Rule Set 관리 GUI (웹 대시보드)도메인 전문가가 코드를 수정하지 않고 웹 화면에서 임계치($3\sigma$)를 조정하면, 서버가 이를 즉시 반영해야 합니다. 이를 **"Dynamic Configuration (동적 설정)"**이라고 합니다.✅ 개발 접근 방식설정값의 DB화 (Config as Data):현재 코드 내부에 하드코딩 되어 있을 확률이 높은 THRESHOLD, SIGMA_LEVEL 등의 변수들을 DB 테이블(rule_configs)로 옮겨야 합니다.서버(FastAPI)는 분석을 수행할 때마다 이 테이블을 조회(혹은 Redis 캐싱)하여 최신 설정값을 적용해야 합니다.간편한 Admin UI 구축:전문가를 위한 UI이므로 복잡한 디자인보다 기능이 중요합니다.React Admin이나 Streamlit 같은 도구를 사용하면 빠르게 CRUD(설정값 읽기/수정) 대시보드를 만들 수 있습니다.전문가가 슬라이더나 입력창으로 숫자를 바꾸고 [배포] 버튼을 누르면, DB 값이 업데이트되고 서버의 분석 로직이 즉시 변경된 값을 참조하게 됩니다.CLI 검색 키워드: React Admin for configuration management, Building simple admin dashboard for FastAPI🔍 제미나이 추천: 다음 단계 (Next Steps)가장 먼저 해야 할 일은 데이터의 흐름(Flow)을 정의하는 스키마 변경입니다.DB 마이그레이션: feedback_status 컬럼 추가 및 rule_configs 테이블 생성.API 설계: 피드백을 받는 API와 설정을 조회/수정하는 API 명세 작성."지금 바로 데이터베이스 스키마 변경을 위한 마이그레이션 파일(SQL/SQLAlchemy) 구조를 잡아드릴까요?"