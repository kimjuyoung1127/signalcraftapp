# 환경 설정 (config)

이 디렉토리는 SignalCraft Mobile 애플리케이션의 환경 설정, API 정보, 앱 설정 등 전역 설정을 중앙에서 관리합니다. 개발, 테스트, 프로덕션 환경에 따른 설정값을 체계적으로 관리할 수 있습니다.

## 📁 파일 구조

```
src/config/
├── env.ts               # 환경 변수 설정
└── [향후 확장 예정 파일들]
```

## 🎯 핵심 파일 역할

### env.ts
- **API 엔드포인트**: 개발/프로덕션 환경별 서버 주소
- **앱 설정**: 타임아웃, 재시도 횟수 등 전역 설정
- **환경 변수**: .env 파일 설정값을 안전하게 로드
- **타입 정의**: 설정값의 타입 안정성 확보

## 🔧 환경 설정 구성

### 주요 설정 항목
```typescript
export const config = {
  // API 설정
  apiBaseUrl: process.env.EXPO_PUBLIC_API_BASE_URL || 'http://localhost:8000',
  
  // 앱 설정
  appTimeout: 30000,        // 30초
  retryAttempts: 3,
  
  // 진단 설정
  diagnosisRecordingDuration: 5000,  // 5초
  pollingInterval: 2000,              // 2초
}
```

### 환경 변수 관리
- **.env 파일**: 실제 환경 변수 값 저장
- **타입스크립트 연동**: 컴파일 타임 타입 체크
- **보안**: 민감 정보 제외 설정

## 🌐 환경별 설정

### 개발 환경 (Development)
- **로컬 서버**: 개발 PC에서 실행 중인 FastAPI 백엔드
- **디버그 모드**: 상세한 로그 및 에러 정보
- **핫 리로드**: 실시간 코드 변경 반영

### 테스트 환경 (Testing)
- **테스트 서버**: 스테이징 서버 연동
- **테스트 데이터**: 모의 데이터 및 시나리오
- **자동화 테스트**: CI/CD 파이프라인 연동

### 프로덕션 환경 (Production)
- **프로덕션 서버**: 실제 운영 서버
- **최적화 설정**: 성능 및 안정성 중심
- **보안 강화**: HTTPS 및 인증서 적용

## 🔐 보안 설정

### 환경 변수 처리
```bash
# .env 파일 예시
EXPO_PUBLIC_API_BASE_URL=http://192.168.1.100:8000
EXPO_PUBLIC_ENVIRONMENT=development
```

### 보안 원칙
- **민감 정보 비공개**: 서버 주소, API 키를 코드에 직접 노출하지 않음
- **환경 분리**: 각 환경별 독립된 설정값
- **타입 안정성**: TypeScript로 설정 오류 방지

## ⚙️ 설정 확장 방향

### 향후 추가 예정 설정
- **애널리틱스**: 사용자 행동 추적 설정
- **푸시 노티피케이션**: 알림 서비스 설정
- **카메라/오디오**: 리소스 품질 설정
- **네트워크**: 오프라인 모드 동작 설정

### 설정 구조 개선
- **설정 객체화**: 기능별 설정 그룹화
- **동적 설정**: 런타임 설정 변경 지원
- **설정 유효성 검사**: 잘못된 설정값 검출

## 🔄 설정값 활용

### 서비스 계층 연동
```typescript
// api.ts에서 환경 설정 활용
import { config } from '../config/env';

const apiClient = axios.create({
  baseURL: config.apiBaseUrl,
  timeout: config.appTimeout,
});
```

### 화면 컴포넌트 연동
```typescript
// 화면에서 설정값 사용
const { pollingInterval } = config;
useEffect(() => {
  const interval = setInterval(fetchData, pollingInterval);
  return () => clearInterval(interval);
}, [pollingInterval]);
```

## 📱 개발 환경 설정

### 개발자 도구
- **디버그 모드**: 디버깅 편의성 증대
- **로깅 레벨**: 상세한 개발 로그
- **데모 데이터**: 테스트용 가상 데이터

### 로컬 개발
```bash
# 환경 변수 설정으로 로컬 백엔드 연동
EXPO_PUBLIC_API_BASE_URL=http://localhost:8000
npm start
```

## 🚀 배포 설정

### 빌드 단계별 설정
- **개발 빌드**: 디버그 기능 포함
- **스테이징 빌드**: 테스트 환경 연동
- **프로덕션 빌드**: 최적화된 운영 환경

### 환경 변수 주입
- **빌드 시**: 빌드 과정에서 실제 설정값 삽입
- **런타임**: 앱 실행 시 동적 설정 로드
- **보안 민감 정보**: 서버사이드에서만 관리

## 📊 설정 모니터링

### 설정값 추적
- **변경 감지**: 설정값 변경 시 로깅
- **성능 영향**: 설정의 성능 영향 모니터링
- **에러 감지**: 잘못된 설정값으로 인한 오류 추적

### 설정 최적화
- **네트워크 타임아웃**: 환경별 최적화된 타임아웃
- **재시도 로직**: 네트워크 불안정성 대응
- **캐싱 전략**: 반복적 요청 최적화

## 🔧 변경 관리

### 설정 변경 시 고려사항
- **하위 호환성**: 이전 버전과의 호환성 유지
- **테스트**: 변경된 설정값 기능 테스트
- **문서화**: 설정 변경사항 상세 기록

### 버전 관리
- **설정 버전**: 주요 설정 변경 시 버전 관리
- **롤백 계획**: 문제 발생 시 롤백 준비
- **변경 로그**: 설정 변경 이력 기록
